<script>
  window.MathJax = {
    tex: {
      // 1. 强制告诉 MathJax：单美元符号 $ 也是公式！
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      // 2. 告诉 MathJax 不要去处理 script 标签里的内容，防止报错
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    },
    chtml: {
      scale: 1.15 // 默认放大 1.15 倍
    }
  };
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script" async></script>

<style>
  /* 行间公式：微调间距和颜色 */
  mjx-container[jax="CHTML"][display="true"] {
    margin: 1em 0 !important;
    color: #e6e6e6; /* 亮灰色，比纯白更护眼 */
  }
  /* 行内公式：防止被浏览器默认字体压扁 */
  mjx-container[jax="CHTML"]:not([display="true"]) {
    font-size: 110% !important;
    padding: 0 2px; /* 给公式左右留一点点呼吸空间 */
  }
</style>